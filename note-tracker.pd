#N canvas 749 -839 1054 737 10;
#X obj 510 70 text define \$1;
#X text 510 97 \$1 is the text store name;
#X text 510 120 Text stores pitch \, velocity \, note duration \, tape
duration. The line number is which tape reel it's on (starts from 0).
;
#X text 510 160 Note on writes an entry with dummy tape duration -99
A tick of the beat clock updates the note duration.;
#X obj 110 50 inlet;
#X text 160 50 Pitch and velocity pair;
#X obj 110 75 t a a;
#X obj 167 242 list store;
#X obj 50 420 list store;
#X obj 70 120 unpack f f;
#X obj 93 153 sel 0;
#X text 510 250 With thanks to Critter & Guitari's cg-note-tracker
\, which can be found in the Pink Mode pattern.;
#X obj 167 211 t b;
#X obj 167 352 text insert \$1 1e+09;
#X obj 169 114 t a a a;
#N canvas 41 131 725 467 delete-entry 0;
#X obj 70 30 inlet;
#X text 120 30 Pitch and velocity pair;
#X obj 70 55 unpack f f;
#X obj 70 80 text search \$1;
#X obj 70 179 text delete \$1;
#X obj 70 109 select -1;
#X text 210 80 Given a pitch/velocity pair \, delete the line with
that pitch.;
#X text 120 144 Only delete if we have found a line;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 5 1 4 0;
#X restore 176 300 pd delete-entry;
#X obj 167 267 t a a;
#X text 241 242 Store the note pair in case it's note on;
#X text 130 419 Store the note pair in case it's note off;
#X obj 167 327 pack f f -99 0;
#X text 270 327 Add extra values and insert the line;
#X obj 50 380 t b;
#N canvas 809 98 667 481 find-line 0;
#X obj 42 28 inlet;
#X text 92 28 Pitch and velocity pair;
#X obj 42 53 unpack f f;
#X obj 42 78 text search \$1;
#X obj 42 107 select -1;
#X text 182 78 Given a pitch/velocity pair \, find the line with that
pitch \, or send a bang to the second outlet.;
#X obj 42 177 outlet;
#X obj 134 179 outlet;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 7 0;
#X connect 4 1 6 0;
#X restore 107 479 pd find-line;
#X obj 50 479 f 99099;
#X obj 50 445 t b a b;
#X obj 196 480 f 2;
#X obj 50 519 text set \$1;
#X text 230 480 Value \, line number \, field number;
#X connect 4 0 6 0;
#X connect 6 0 9 0;
#X connect 6 1 14 0;
#X connect 7 0 16 0;
#X connect 8 0 24 0;
#X connect 9 1 10 0;
#X connect 10 0 21 0;
#X connect 10 1 12 0;
#X connect 12 0 7 0;
#X connect 14 0 8 1;
#X connect 14 1 7 1;
#X connect 16 0 19 0;
#X connect 16 1 15 0;
#X connect 19 0 13 0;
#X connect 21 0 8 0;
#X connect 22 0 26 1;
#X connect 23 0 26 0;
#X connect 24 0 23 0;
#X connect 24 1 22 0;
#X connect 24 2 25 0;
#X connect 25 0 26 2;
